import sys
import re
import operator as op
input="""\
|....|....||.##|.|.|.##.|....|..#|#|#.#|.#|#|....#
.#...#.#....#|..#.#||........|.#.#.###.|.#||##..#.
....|..#####...|.##.#.|.|.|||.|#...|..|....##|#.||
|..#..|..#|#|.....#..|.....#........#....|..#..#..
..#|##..##..#.........|##.|..#.|.|....|#.||#.##...
.......|...|#..####.|#..#.||...|#.......|..|.|.#|#
....|||............|..#|.#..|.|.|...|...........|.
.|##.|.|...#...|||..#.#.##.|.#.|..||#.#....#......
.#..#|....#...#.#..|..#.#...#..|#||....#...#||#..#
#|...||.|#.#.|..##|..#..|......|..|....|#.|##.....
#.#|...##.|..##...||#.|..#|.|..|.|..#....#....#|..
##|||...##.....#|..||.||..|...#.###|.#..#.#..||.##
#|.|...|#...#..#.........#..#.##..#.|##.|.|.#####.
#.#..|.#.#.#|...#....|.|##.|....#..|#....|.#.#....
........|##.|...|...|....#..#..|..|#....#..#|#.|..
...#|.|.......||.|..#..|..#....|||#|.|........|##.
...##|.....|...|.#|.|.|.#|..##|..|#...#|||..#.#.|.
...|...#..|....#...###||##..|..#|.|..##|.#.||.....
...........#.|#..#.#|.|.#.#.......||.#..|.....#..#
.#..#.#....#|.|###...##..#.##|.|#..|....|#....#|.#
.#|....|.|..#..#.....#.#.|...#.....||.|.......#|.#
.|#...#.##...||||.#..#.....|#.||#.#....#|#...#|...
..#...#.#.|...#|.......#|##|.|.#.||.#|.#...|#.....
.......#....###|....||......|....|.....##.|.|.|...
|.|.|.|.#.#..##......#..|..##.#....#.#|....#.|..#.
.|...||...#.##..#..||...##..|.|.#.#.|.|....#......
....|......|..|.|.##.#.|.#.||........|.|#|.#.|..#.
.#.#...#...||..|.......||#.#|..|#||||..#|......|..
|||#.|#.|.##.#....#.#.|||||.....||.||.||.#|.##|#.#
........#|.|##..##.|......#||.|.#......#.....##.##
..||..#|.|.#..|#...#.....|..|#.||.#.|#.|#...#.|...
|#..#...|....|.........|.|##.#..#|##||#...#..#.|#.
...##..#.#..#|...#.|##...#....#....#|...#|..|.|.#.
.#|.......#|.||#..||#.#..|#.|.|..#.#..|..|..#..|..
#.|#.#|...|.#.#|..#..|...|#||#|.|#........|....|..
|.|||.|.|##||...|.|#..#|||.#.###||.#|.###...#....#
.##....#..|#.........#.|..|..||.#|..#|##|.#.....##
.....|#.#...|....#......||..|...|...#.....#.||..##
#|.|#..##.....|##....|.#.#.||.|.......||#.#.#..|#.
.#...#|.#.#||...|#..##.|..##.|.#|.||##.|.......||.
.|...#..|..#.##.#|||#####|.|....|#..###.|#.#..|.#|
...##.....||..|......|.#|.|.|.|.|..#.......##.|#..
|...|..|.#|..#|##.##...|.#|.#|#.......|.#.|#||.|..
.|..######......#|.#...#.#.|.#|...#..|....|..|..||
|#.#.#..|.|#|....##.||....#...#..|....#.|||.|##.|.
#|...#.#||..|...|.....###|.#....#|....|#...|..#.#.
..#|.||..#..#.......##...#|..#.##..#....||.|.|.##|
.||#.##.###..#|...........#....#|.#..#.##.|#.#...#
.##|##..#.|#.|......#..|#...#.....#.|.|#|...|.|...
..#.....##..#.#|#.#.....|#...#..|.#.|.|#|....#..|.""" 
try:
  input=[list(i) for i in input.split('\n')]
  forest=input
  openChar=r'.'
  treeChar=r'|'
  lumberChar=r'#'
  Ysize=len(forest)
  Xsize=len(forest[0])
  def isValid(x,y):
    if x>-1 and x<Xsize and y>-1 and y<Ysize:
      return True
  def aroundPoint(x,y):
    ret=[]
    if isValid(y,x+1):
      ret.append(forest[y][x+1])
    if isValid(y,x-1):
      ret.append(forest[y][x-1])
    if isValid(y+1,x):
      ret.append(forest[y+1][x])
    if isValid(y-1,x):
      ret.append(forest[y-1][x])
    if isValid(y-1,x-1):
      ret.append(forest[y-1][x-1])
    if isValid(y-1,x+1):
      ret.append(forest[y-1][x+1])
    if isValid(y+1,x-1):
      ret.append(forest[y+1][x-1])
    if isValid(y+1,x+1):
      ret.append(forest[y+1][x+1])
    return ret
    
  #...
  for i in range(10):
    newForest=[]
    for row in range(Ysize): #run over forest
      newRow=[]
      for col in range(Xsize): #run over row 
        ch=forest[row][col]
        ar=aroundPoint(col,row)
        if ch==openChar:
          if ar.count(treeChar)>=3:
            newRow.append(treeChar)
          else:
            newRow.append(openChar)
        elif ch==treeChar:
          if ar.count(lumberChar)>=3:
            newRow.append(lumberChar)
          else:
            newRow.append(treeChar)
        else:
          if ar.count(lumberChar)>=1 and ar.count(treeChar)>=1:
            newRow.append(lumberChar)
          else:
            newRow.append(openChar)
      newForest.append(newRow)
    forest=newForest
  treeCount=sum([ i.count(treeChar) for i in forest])
  lumberCount=sum([ i.count(lumberChar) for i in forest])
  print "t",treeCount,"l",lumberCount,"final",treeCount*lumberCount
except Exception as e:
  print str(e),sys.exc_info()[2].tb_lineno
finally:
  raw_input()